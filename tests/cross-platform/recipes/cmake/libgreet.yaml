inherit: [cmake, python3]

depends:
    - cmake::libholler-dev
    - use: []
      depends:
        - cmake::libholler-tgt

checkoutSCM:
    scm: import
    url: src/libgreet/
    prune: True

buildScript: |
   cat <<EOF > myfile.py
   #!/usr/bin/env python3
   import pyparsing as pp

   greet = pp.Word(pp.alphas) + "," + pp.Word(pp.alphas) + "!"
   for greeting_str in [
               "Hello, World!",
               "Bonjour, Monde!",
               "Hola, Mundo!",
               "Hallo, Welt!",
           ]:
       greeting = greet.parseString(greeting_str)
       print(greeting)

   EOF
   python3 myfile.py

   cmakeBuild "$1"

multiPackage:
    dev:
        packageScript: |
           cmakePackageDev
        provideDeps: [ "*-dev" ]
    tgt:
        packageScript: |
           cmakePackageTgt
        provideDeps: [ "*-tgt" ]
