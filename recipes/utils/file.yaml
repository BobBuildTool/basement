inherit: [autotools]

metaEnvironment:
    PKG_LICENSE: "BSD-2-Clause"
    PKG_VERSION: "5.46"

checkoutSCM:
    scm: url
    url: https://www.astron.com/pub/file/file-${PKG_VERSION}.tar.gz
    digestSHA256: "c9cc77c7c560c543135edc555af609d5619dbef011997e988ce40a3d75d86088"
    stripComponents: 1

buildTools: [host-toolchain]
buildVars: [AUTOCONF_BUILD, AUTOCONF_HOST]
buildScript: |
    # need host "file" tool when cross-compiling
    if cpackageCrossCompiling ; then
        mkdir -p host
        pushd host
        (
            export AUTOCONF_HOST="$AUTOCONF_BUILD"
            unset AR CC CXX
            autotoolsBuild $1
        )
        export PATH="$PWD/install/usr/bin:$PATH"
        popd
    fi
    autotoolsBuild $1

packageScript: |
    autotoolsPackageTgt
