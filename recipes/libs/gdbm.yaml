inherit: [autotools, autoconf]

metaEnvironment:
    PKG_VERSION: "1.26"
    PKG_LICENSE: "GPL-3.0-or-later"

checkoutSCM:
    scm: url
    url: ${GNU_MIRROR}/gdbm/gdbm-${PKG_VERSION}.tar.gz
    digestSHA1: "6cee3657de948e691e8df26509157be950cef4d4"
    stripComponents: 1

checkoutDeterministic: True
checkoutScript: |
    # prevent Makefile from updating the file because it's older than "configure"
    touch doc/stamp-vti

buildTools: [gettext]
buildScript: |
    autotoolsBuild -s $1 \
        --enable-libgdbm-compat

multiPackage:
    dev:
        packageScript: autotoolsPackageDev
    tgt:
        packageScript: autotoolsPackageTgt
