inherit: [autotools]

metaEnvironment:
    PKG_VERSION: "7.48.0"

depends:
    - libs::openssl-dev

    - use: []
      depends:
        - libs::openssl-tgt

checkoutSCM:
    scm: url
    url: https://curl.haxx.se/download/curl-${PKG_VERSION}.tar.gz
    digestSHA1: "eac95625b849408362cf6edb0bc9489da317ba30"
    stripComponents: 1

buildScript: |
    autotoolsBuild $1 \
       --disable-static \
       --enable-threaded-resolver \
       --with-ssl \
       --with-ca-path=/etc/ssl/certs

packageScript: |
    autotoolsPackageTgt

provideDeps: [ "*-tgt" ]
